<%layout('layouts/boilerplate')%>
  <h1>All User Info</h1>
  <div>
    <a href="/users/new" class="btn btn-success">Create New User</a>
  </div>


  <table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th scope="col" class="d-none d-sm-table-cell">ID</th>
        <th scope="col">First Name</th>
        <th scope="col" class="d-none d-md-table-cell">Last Name</th>
        <th scope="col" class="d-none d-lg-table-cell">Age</th>
        <th scope="col" class="d-none d-lg-table-cell">Gender</th>
        <th scope="col" class="d-none d-md-table-cell">Email</th>
        <th scope="col" class="d-none d-lg-table-cell">Address</th>
        <th scope="col">View Profile</th>

      </tr>
    </thead>
    <tbody>
      <% users.forEach((user,index)=> {%>
        <tr>
          <th scope="row" class="d-none d-sm-table-cell">
            <%=(index+1)%>
          </th>
          <td>
            <%=user.firstName%>
          </td>
          <td class="d-none d-md-table-cell">
            <%=user.lastName%>
          </td>
          <td class="d-none d-lg-table-cell">
            <%=user.age%>
          </td>
          <td class="d-none d-lg-table-cell">
            <%=user.gender%>
          </td>
          <td class="d-none d-md-table-cell">
            <%=user.email%>
          </td>
          <td class="d-none d-lg-table-cell">
            <%=user.address%>
          </td>
          <td><a href="/users/<%=user._id%>" class="btn btn-info">Click Me</a></td>
        </tr>
        <% }) %>
    </tbody>
  </table>
  <nav aria-label="Page navigation example">
    <ul class="pagination">
      <%if(previous) {%>
        <li class="page-item">
          <a class="page-link" href="/users?page=<%=previous.page%>&limit=10" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
        <li class="page-item"><a class="page-link" href="#">
            <%=totalPages - previous.page - 1%> Pages Remaining
          </a></li>

        <%}else {%>
          <li class="page-item"><a class="page-link" href="#">
              <%=totalPages - 1%> Pages Remaining
            </a></li>
          <%}%>

            <%if(next){%>
              <li class="page-item">
                <a class="page-link" href="/users?page=<%=next.page%>&limit=10" aria-label="Next">
                  <span aria-hidden="true">&raquo;</span>
                  <span class="sr-only">Next</span>
                </a>
              </li>
              <%}%>
    </ul>
  </nav>